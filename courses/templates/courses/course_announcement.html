{% extends 'courses/course_detail.html' %}
{% block course_content %}
<h3>公告列表</h3>
{% if user.is_superuser %}
	<div style="text-align:right;margin-bottom:16px;">
		<a href="{% url 'announcement_add' course.id %}" style="padding:8px 20px;background:#4a90e2;color:#fff;border-radius:8px;text-decoration:none;font-weight:bold;">添加公告</a>
	</div>
{% endif %}
<ul style="list-style:none;padding:0;width:100%;max-width:1600px;margin:auto;">
	{% for announcement in announcements %}
	<li style="margin-bottom:18px;">
		<a href="{% url 'announcement_detail' course.id announcement.id %}" style="font-size:18px;color:#4a90e2;font-weight:bold;text-decoration:none;">{{ announcement.title }}</a>
		<span style="color:#888;margin-left:12px;">{{ announcement.created_at|date:'Y-m-d H:i' }}</span>
		{% if user.is_superuser %}
			<a href="{% url 'announcement_edit' course.id announcement.id %}" style="margin-left:16px;color:#888;">编辑</a>
			<a href="{% url 'announcement_delete' course.id announcement.id %}" style="margin-left:8px;color:#e74c3c;">删除</a>
		{% endif %}
	</li>
	{% empty %}
	<li style="color:#aaa;">暂无公告</li>
	{% endfor %}
</ul>
{% endblock %}
